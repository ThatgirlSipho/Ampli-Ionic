<!-- Background image -->
<div class="page-background"></div>

<!-- Back button container -->
<div class="back-button-container">
  <ion-button fill="clear" (click)="goBack()">
    <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
  </ion-button>
</div>

<!-- Login Wrapper -->
<div class="login-wrapper">
  <ion-card class="box">
    <ion-card-header>
      <ion-card-title>Reset Password</ion-card-title>
    </ion-card-header>

    <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
      <ion-card-content>
        
        <!-- Email Field -->
        <ion-item>
          <ion-label position="floating">Email Address</ion-label>
          <ion-input placeholder="Enter a valid Email address" formControlName="username"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="resetPasswordForm.get('username')?.hasError('required')">
          Email Address is required
        </ion-text>
        <ion-text color="danger" *ngIf="resetPasswordForm.get('username')?.hasError('email')">
          Please enter a valid email address
        </ion-text>

        <!-- Password Field -->
        <ion-item>
          <ion-label position="floating">Password</ion-label>
          <ion-input type="password" placeholder="Enter between 6 to 16 characters" formControlName="password"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="resetPasswordForm.get('password')?.hasError('minlength')">
          Password must be at least 6 characters
        </ion-text>
        <ion-text color="danger" *ngIf="resetPasswordForm.get('password')?.hasError('invalidPassword')">
          Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character
        </ion-text>

        <!-- Confirm Password Field -->
        <ion-item>
          <ion-label position="floating">Confirm Password</ion-label>
          <ion-input type="password" placeholder="Confirm your password" formControlName="confirmPassword"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="resetPasswordForm.hasError('mismatch')">
          Passwords must match
        </ion-text>

      </ion-card-content>

      <!-- Reset Password Button -->
      <ion-button expand="block" [disabled]="resetPasswordForm.invalid" type="submit">
        Reset Password
      </ion-button>
    </form>
  </ion-card>
</div>
